<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up — Labelle</title>
  <link rel="icon" href="/img/core-img/favicon.ico">
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Jost:wght@300;400;500&display=swap"
    rel="stylesheet">
  <style>
    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --cream: #f9f4ee;
      --warm-white: #fdf9f5;
      --gold: #c9a96e;
      --gold-light: #e8d5b0;
      --dark: #1a1410;
      --muted: #8a7968;
      --border: rgba(201, 169, 110, 0.25);
    }

    html,
    body {
      height: 100%;
      font-family: 'Jost', sans-serif;
      background: var(--dark);
      color: var(--dark);
    }

    /* ── SPLIT LAYOUT ── */
    .page {
      display: grid;
      grid-template-columns: 1fr 1fr;
      min-height: 100vh;
    }

    /* ── LEFT PANEL ── */
    .left-panel {
      position: relative;
      background: linear-gradient(160deg, #1a1410 0%, #2e1f10 50%, #1a1410 100%);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 3rem;
      overflow: hidden;
      position: sticky;
      top: 0;
      height: 100vh;
    }

    .left-panel::before {
      content: '';
      position: absolute;
      top: -20%;
      left: -20%;
      width: 80%;
      height: 80%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(201, 169, 110, 0.14) 0%, transparent 70%);
      pointer-events: none;
    }

    .left-panel::after {
      content: '';
      position: absolute;
      bottom: -15%;
      right: -15%;
      width: 70%;
      height: 70%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(201, 169, 110, 0.08) 0%, transparent 70%);
      pointer-events: none;
    }

    .deco-ring {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 420px;
      height: 420px;
      border-radius: 50%;
      border: 1px solid rgba(201, 169, 110, 0.12);
      animation: rotateSlow 30s linear infinite;
    }

    .deco-ring::before {
      content: '';
      position: absolute;
      top: 20px;
      left: 20px;
      right: 20px;
      bottom: 20px;
      border-radius: 50%;
      border: 1px solid rgba(201, 169, 110, 0.07);
    }

    @keyframes rotateSlow {
      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    /* multiple floating bottles for signup — feels like a collection */
    .deco-bottles {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 260px;
      height: 200px;
    }

    .deco-bottle {
      position: absolute;
      animation: float 6s ease-in-out infinite;
    }

    .deco-bottle:nth-child(1) {
      left: 0;
      top: 10px;
      width: 80px;
      animation-delay: 0s;
    }

    .deco-bottle:nth-child(2) {
      left: 90px;
      top: -20px;
      width: 100px;
      animation-delay: -2s;
    }

    .deco-bottle:nth-child(3) {
      right: 0;
      top: 10px;
      width: 75px;
      animation-delay: -4s;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-12px);
      }
    }

    .left-logo {
      position: relative;
      z-index: 2;
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.6rem;
      font-weight: 600;
      letter-spacing: 0.14em;
      color: var(--cream);
      text-decoration: none;
    }

    .left-logo span {
      color: var(--gold);
    }

    .left-bottom {
      position: relative;
      z-index: 2;
    }

    .left-tagline {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(1.6rem, 2.5vw, 2.4rem);
      font-weight: 300;
      color: var(--cream);
      line-height: 1.2;
      margin-bottom: 0.8rem;
    }

    .left-tagline em {
      font-style: italic;
      color: var(--gold-light);
    }

    .left-sub {
      font-size: 0.8rem;
      color: rgba(249, 244, 238, 0.4);
      font-weight: 300;
      letter-spacing: 0.05em;
      line-height: 1.6;
    }

    .gold-line {
      width: 40px;
      height: 1px;
      background: var(--gold);
      margin-bottom: 1.2rem;
    }

    /* perks list */
    .perks {
      margin-top: 1.6rem;
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
    }

    .perk {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      font-size: 0.78rem;
      color: rgba(249, 244, 238, 0.5);
      font-weight: 300;
    }

    .perk-dot {
      width: 5px;
      height: 5px;
      border-radius: 50%;
      background: var(--gold);
      flex-shrink: 0;
    }

    /* ── RIGHT PANEL ── */
    .right-panel {
      background: var(--warm-white);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 4rem 5vw;
      overflow-y: auto;
    }

    .form-card {
      width: 100%;
      max-width: 420px;
      animation: fadeUp 0.8s cubic-bezier(0.22, 1, 0.36, 1) both;
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(24px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .form-eyebrow {
      font-size: 0.66rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 0.5rem;
    }

    .form-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2.4rem;
      font-weight: 300;
      color: var(--dark);
      margin-bottom: 0.4rem;
      line-height: 1.1;
    }

    .form-subtitle {
      font-size: 0.82rem;
      color: var(--muted);
      font-weight: 300;
      margin-bottom: 2rem;
    }

    /* error / success */
    .form-error {
      background: rgba(220, 53, 69, 0.08);
      border: 1px solid rgba(220, 53, 69, 0.3);
      color: #c0392b;
      font-size: 0.8rem;
      padding: 0.75rem 1rem;
      margin-bottom: 1.4rem;
    }

    .form-success {
      background: rgba(76, 175, 80, 0.08);
      border: 1px solid rgba(76, 175, 80, 0.3);
      color: #2e7d32;
      font-size: 0.8rem;
      padding: 0.75rem 1rem;
      margin-bottom: 1.4rem;
    }

    /* 2-col row */
    .field-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .field-group {
      margin-bottom: 1.3rem;
    }

    .field-label {
      display: block;
      font-size: 0.66rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }

    .field-wrap {
      position: relative;
    }

    .field-input {
      width: 100%;
      padding: 0.9rem 1rem;
      background: var(--cream);
      border: 1px solid var(--border);
      border-radius: 0;
      font-family: 'Jost', sans-serif;
      font-size: 0.88rem;
      color: var(--dark);
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
      -webkit-appearance: none;
    }

    .field-input::placeholder {
      color: rgba(138, 121, 104, 0.5);
    }

    .field-input:focus {
      border-color: var(--gold);
      box-shadow: 0 0 0 3px rgba(201, 169, 110, 0.1);
    }

    .field-input.error {
      border-color: rgba(220, 53, 69, 0.5);
    }

    /* password strength bar */
    .strength-bar {
      display: flex;
      gap: 3px;
      margin-top: 0.5rem;
    }

    .strength-seg {
      flex: 1;
      height: 2px;
      background: var(--border);
      transition: background 0.3s;
    }

    .strength-seg.weak {
      background: #e53935;
    }

    .strength-seg.fair {
      background: #fb8c00;
    }

    .strength-seg.good {
      background: #43a047;
    }

    .strength-seg.strong {
      background: #2e7d32;
    }

    .strength-label {
      font-size: 0.65rem;
      color: var(--muted);
      margin-top: 0.3rem;
      letter-spacing: 0.08em;
      min-height: 1em;
    }

    /* toggle pass */
    .toggle-pass {
      position: absolute;
      right: 1rem;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      color: var(--muted);
      font-size: 0.72rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      transition: color 0.2s;
    }

    .toggle-pass:hover {
      color: var(--gold);
    }

    /* terms */
    .terms-row {
      display: flex;
      align-items: flex-start;
      gap: 0.7rem;
      margin-bottom: 1.6rem;
    }

    .terms-check {
      width: 16px;
      height: 16px;
      border: 1px solid var(--border);
      appearance: none;
      -webkit-appearance: none;
      cursor: pointer;
      flex-shrink: 0;
      margin-top: 2px;
      transition: background 0.2s, border-color 0.2s;
      position: relative;
    }

    .terms-check:checked {
      background: var(--dark);
      border-color: var(--dark);
    }

    .terms-check:checked::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 0.6rem;
    }

    .terms-text {
      font-size: 0.75rem;
      color: var(--muted);
      line-height: 1.5;
    }

    .terms-text a {
      color: var(--dark);
      text-decoration: none;
      border-bottom: 1px solid var(--border);
      transition: color 0.2s;
    }

    .terms-text a:hover {
      color: var(--gold);
    }

    /* Google button */
    .btn-google {
      width: 100%;
      padding: 0.9rem 1rem;
      background: white;
      border: 1px solid var(--border);
      font-family: 'Jost', sans-serif;
      font-size: 0.82rem;
      letter-spacing: 0.06em;
      color: #3c3c3c;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      text-decoration: none;
      transition: border-color 0.2s, box-shadow 0.2s, transform 0.2s;
      margin-bottom: 1rem;
    }

    .btn-google:hover {
      border-color: var(--gold);
      box-shadow: 0 2px 12px rgba(201, 169, 110, 0.15);
      transform: translateY(-1px);
    }

    .btn-google svg {
      flex-shrink: 0;
    }

    /* submit */
    .btn-submit {
      width: 100%;
      padding: 1rem;
      background: var(--dark);
      color: var(--cream);
      border: none;
      font-family: 'Jost', sans-serif;
      font-size: 0.75rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      cursor: pointer;
      transition: background 0.25s, transform 0.2s;
      margin-bottom: 1.6rem;
    }

    .btn-submit:hover {
      background: var(--gold);
      transform: translateY(-1px);
    }

    .or-divider {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.4rem;
      color: var(--muted);
      font-size: 0.7rem;
      letter-spacing: 0.1em;
    }

    .or-divider::before,
    .or-divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border);
    }

    .switch-link {
      text-align: center;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .switch-link a {
      color: var(--dark);
      text-decoration: none;
      font-weight: 500;
      border-bottom: 1px solid var(--border);
      padding-bottom: 1px;
      transition: border-color 0.2s, color 0.2s;
    }

    .switch-link a:hover {
      color: var(--gold);
      border-color: var(--gold);
    }

    /* ── RESPONSIVE ── */
    @media (max-width: 768px) {
      .page {
        grid-template-columns: 1fr;
      }

      .left-panel {
        height: 220px;
        padding: 2rem;
        position: relative;
      }

      .deco-ring,
      .deco-bottles {
        display: none;
      }

      .left-bottom {
        display: none;
      }

      .right-panel {
        padding: 3rem 2rem;
      }

      .field-row {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="page">

    <!-- ── LEFT PANEL ── -->
    <div class="left-panel">
      <a href="/" class="left-logo">La<span>belle</span></a>

      <div class="deco-ring"></div>

      <!-- Three bottles -->
      <div class="deco-bottles">
        <!-- Bottle 1 — rose -->
        <svg class="deco-bottle" viewBox="0 0 80 140" fill="none">
          <defs>
            <linearGradient id="b1" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#d4a8d0" stop-opacity="0.8" />
              <stop offset="100%" stop-color="#8a4a7a" stop-opacity="0.9" />
            </linearGradient>
          </defs>
          <rect x="26" y="14" width="28" height="16" rx="3" fill="#b07898" />
          <rect x="32" y="8" width="16" height="9" rx="2" fill="#c890a8" />
          <rect x="33" y="29" width="14" height="10" rx="1" fill="#b07898" />
          <rect x="16" y="38" width="48" height="84" rx="8" fill="url(#b1)" />
          <rect x="20" y="44" width="10" height="60" rx="4" fill="rgba(255,255,255,0.12)" />
        </svg>
        <!-- Bottle 2 — gold -->
        <svg class="deco-bottle" viewBox="0 0 100 160" fill="none">
          <defs>
            <linearGradient id="b2" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#e8c890" stop-opacity="0.9" />
              <stop offset="100%" stop-color="#b07830" stop-opacity="0.95" />
            </linearGradient>
          </defs>
          <rect x="30" y="14" width="40" height="20" rx="4" fill="#c09850" />
          <rect x="38" y="6" width="24" height="12" rx="2" fill="#d8b070" />
          <rect x="40" y="33" width="20" height="12" rx="1" fill="#c09850" />
          <rect x="18" y="44" width="64" height="96" rx="10" fill="url(#b2)" />
          <rect x="24" y="52" width="14" height="72" rx="6" fill="rgba(255,255,255,0.15)" />
          <rect x="26" y="80" width="48" height="36" rx="2" fill="rgba(26,20,16,0.25)" />
          <text x="50" y="100" text-anchor="middle" font-family="serif" font-size="8" fill="rgba(255,255,255,0.8)"
            font-style="italic">Labelle</text>
        </svg>
        <!-- Bottle 3 — blue -->
        <svg class="deco-bottle" viewBox="0 0 76 136" fill="none">
          <defs>
            <linearGradient id="b3" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#a0b8e0" stop-opacity="0.8" />
              <stop offset="100%" stop-color="#3858a0" stop-opacity="0.9" />
            </linearGradient>
          </defs>
          <rect x="24" y="13" width="28" height="16" rx="3" fill="#4870b8" />
          <rect x="30" y="6" width="16" height="9" rx="2" fill="#6090d0" />
          <rect x="31" y="28" width="14" height="10" rx="1" fill="#4870b8" />
          <rect x="14" y="37" width="48" height="82" rx="8" fill="url(#b3)" />
          <rect x="18" y="44" width="10" height="58" rx="4" fill="rgba(255,255,255,0.15)" />
        </svg>
      </div>

      <div class="left-bottom">
        <div class="gold-line"></div>
        <p class="left-tagline">Join the<br><em>Labelle Family</em></p>
        <p class="left-sub">Create your account and unlock a world of premium fragrances.</p>
        <div class="perks">
          <div class="perk"><span class="perk-dot"></span>Exclusive member offers & early access</div>
          <div class="perk"><span class="perk-dot"></span>Personalised scent recommendations</div>
          <div class="perk"><span class="perk-dot"></span>Wishlist & order history</div>
        </div>
      </div>
    </div>

    <!-- ── RIGHT PANEL ── -->
    <div class="right-panel">
      <div class="form-card">
        <p class="form-eyebrow">New Account</p>
        <h1 class="form-title">Create Account</h1>
        <p class="form-subtitle">Join us — it only takes a minute</p>

        <% if (typeof error !=='undefined' && error) { %>
          <div class="form-error">
            <%= error %>
          </div>
          <% } %>
            <% if (typeof success !=='undefined' && success) { %>
              <div class="form-success">
                <%= success %>
              </div>
              <% } %>

                <form action="/signup" method="POST" id="signupForm">

                  <div class="field-group">
                    <label class="field-label" for="name">User Name</label>
                    <input class="field-input" type="text" id="name" name="name" placeholder="Jane" required
                      autocomplete="given-name">
                  </div>


                  <div class="field-group">
                    <label class="field-label" for="email">Email Address</label>
                    <input class="field-input" type="email" id="email" name="email" placeholder="your@email.com"
                      required autocomplete="email">
                  </div>


                  <div class="field-group">
                    <label class="field-label" for="password">Password</label>
                    <div class="field-wrap">
                      <input class="field-input" type="password" id="password" name="password" placeholder="••••••••"
                        required autocomplete="new-password" style="padding-right: 4rem;"
                        oninput="checkStrength(this.value)">
                      <button type="button" class="toggle-pass" onclick="togglePassword('password', this)">Show</button>
                    </div>
                    <div class="strength-bar">
                      <div class="strength-seg" id="seg1"></div>
                      <div class="strength-seg" id="seg2"></div>
                      <div class="strength-seg" id="seg3"></div>
                      <div class="strength-seg" id="seg4"></div>
                    </div>
                    <div class="strength-label" id="strengthLabel"></div>
                  </div>

                  <div class="field-group">
                    <label class="field-label" for="confirmPassword">Confirm Password</label>
                    <div class="field-wrap">
                      <input class="field-input" type="password" id="confirmPassword" name="confirmPassword"
                        placeholder="••••••••" required autocomplete="new-password" style="padding-right: 4rem;">
                      <button type="button" class="toggle-pass"
                        onclick="togglePassword('confirmPassword', this)">Show</button>
                    </div>
                  </div>
                  <div class="field-group">
                    <label class="field-label" for="confirmPassword">referral code<span style="font-size: 10px;">(optional)</span></label>
                    <div class="field-wrap">
                      <input class="field-input" type="text" id="referralCode" name="referralCode"
                        placeholder="BJD-48573" required autocomplete="new-password" style="padding-right: 4rem;">
                      <button type="button" class="toggle-pass"
                        onclick="togglePassword('confirmPassword', this)">Show</button>
                    </div>
                  </div>

                  <div class="terms-row">
                    <input type="checkbox" class="terms-check" id="terms" name="terms" required>
                    <label class="terms-text" for="terms">
                      I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                    </label>
                  </div>

                  <button type="submit" class="btn-submit">Create Account</button>
                </form>

                <div class="or-divider">or sign up with</div>

                <a href="/auth/google" class="btn-google">
                  <svg width="18" height="18" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#EA4335"
                      d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z" />
                    <path fill="#4285F4"
                      d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z" />
                    <path fill="#FBBC05"
                      d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z" />
                    <path fill="#34A853"
                      d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.18 1.48-4.97 2.31-8.16 2.31-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z" />
                  </svg>
                  Continue with Google
                </a>

                <div class="or-divider">or</div>

                <p class="switch-link">
                  Already have an account? <a href="/login">Sign in</a>
                </p>
      </div>
    </div>

  </div>

  <script>
    // Toggle password visibility
    function togglePassword(fieldId, btn) {
      const input = document.getElementById(fieldId);
      if (input.type === 'password') {
        input.type = 'text';
        btn.textContent = 'Hide';
      } else {
        input.type = 'password';
        btn.textContent = 'Show';
      }
    }

    // Password strength checker
    function checkStrength(val) {
      const segs = [
        document.getElementById('seg1'),
        document.getElementById('seg2'),
        document.getElementById('seg3'),
        document.getElementById('seg4'),
      ];
      const label = document.getElementById('strengthLabel');

      segs.forEach(s => s.className = 'strength-seg');

      if (!val) { label.textContent = ''; return; }

      let score = 0;
      if (val.length >= 8) score++;
      if (/[A-Z]/.test(val)) score++;
      if (/[0-9]/.test(val)) score++;
      if (/[^A-Za-z0-9]/.test(val)) score++;

      const levels = ['weak', 'fair', 'good', 'strong'];
      const labels = ['Weak', 'Fair', 'Good', 'Strong'];
      const colors = { weak: '#e53935', fair: '#fb8c00', good: '#43a047', strong: '#2e7d32' };

      for (let i = 0; i < score; i++) {
        segs[i].classList.add(levels[score - 1]);
      }
      label.textContent = labels[score - 1] || '';
      label.style.color = colors[levels[score - 1]] || '';
    }

    // Confirm password validation
    document.getElementById('signupForm').addEventListener('submit', function (e) {
      const pw = document.getElementById('password').value;
      const cpw = document.getElementById('confirmPassword').value;
      const cpwInput = document.getElementById('confirmPassword');
      if (pw !== cpw) {
        e.preventDefault();
        cpwInput.classList.add('error');
        cpwInput.focus();
        cpwInput.setCustomValidity('Passwords do not match.');
        cpwInput.reportValidity();
      } else {
        cpwInput.classList.remove('error');
        cpwInput.setCustomValidity('');
      }
    });
  </script>
</body>

</html>